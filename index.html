<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AS Nemorense - Sito Ufficiale</title>
    <link rel="icon" type="image/png" href="logo-nemorense.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;600;700&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6b0f1a;
            --primary-light: #8b1a2a;
            --accent: #ffffff;
            --anthracite: #3a3a3a;
            --text: #1a1a1a;
            --bg: #fafafa;
            --white: #ffffff;
            --shadow: rgba(107, 15, 26, 0.12);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'DM Sans', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }

        header { background: var(--white); box-shadow: 0 2px 20px var(--shadow); position: sticky; top: 0; z-index: 1000; }
        .header-content { max-width: 1200px; margin: 0 auto; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        
        .logo { display: flex; align-items: center; gap: 1rem; text-decoration: none; color: var(--primary); }
        .logo-shield img { width: 50px; height: 50px; object-fit: contain; }
        .logo-text { font-family: 'Teko', sans-serif; font-size: 1.8rem; font-weight: 700; }

        nav { display: flex; gap: 1.5rem; align-items: center; }
        nav a { text-decoration: none; color: var(--text); font-weight: 500; transition: 0.3s; }
        nav a:hover { color: var(--primary); }

        .hero { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); color: white; padding: 4rem 2rem; text-align: center; }
        .hero-logo img { width: 120px; margin-bottom: 1rem; }
        .hero h1 { font-family: 'Teko', sans-serif; font-size: 3.5rem; letter-spacing: 2px; }

        section { padding: 4rem 2rem; max-width: 1200px; margin: 0 auto; }
        .section-title { font-family: 'Teko', sans-serif; font-size: 2.5rem; text-align: center; color: var(--primary); margin-bottom: 2rem; }

        .next-match { background: var(--primary); border-radius: 20px; padding: 2rem; color: white; text-align: center; box-shadow: 0 10px 30px var(--shadow); }
        .match-teams { display: flex; justify-content: center; align-items: center; gap: 2rem; margin: 1.5rem 0; font-family: 'Teko', sans-serif; font-size: 2rem; }

        .table-container { background: white; border-radius: 15px; overflow-x: auto; box-shadow: 0 5px 20px var(--shadow); }
        table { width: 100%; border-collapse: collapse; min-width: 600px; }
        th { background: var(--primary); color: white; padding: 1rem; text-align: left; }
        td { padding: 1rem; border-bottom: 1px solid #eee; }
        tr.highlight { background: rgba(107, 15, 26, 0.05); font-weight: bold; }

        .calendar-grid { display: grid; gap: 1rem; }
        .match-card { background: white; padding: 1.5rem; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 15px var(--shadow); border-left: 5px solid var(--primary); }
        .win { color: #28a745; font-weight: bold; }
        .loss { color: #dc3545; font-weight: bold; }

        footer { background: var(--anthracite); color: white; padding: 2rem; text-align: center; margin-top: 4rem; }

        @media (max-width: 768px) {
            .header-content { flex-direction: column; gap: 1rem; }
            .hero h1 { font-size: 2.5rem; }
            .match-teams { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <a href="#" class="logo">
                <div class="logo-shield">
                    <img src="logo-nemorense.png" alt="Logo AS Nemorense">
                </div>
                <span class="logo-text">AS NEMORENSE</span>
            </a>
            <nav>
                <a href="#classifica">Classifica</a>
                <a href="#calendario">Calendario</a>
                <a href="https://www.instagram.com/asnemorense/" target="_blank">Instagram</a>
            </nav>
        </div>
    </header>

    <div class="hero">
        <div class="hero-logo">
            <img src="logo-nemorense.png" alt="Logo">
        </div>
        <h1>AS NEMORENSE</h1>
        <p>Serie A2 - Lega Calcio a 8 Roma</p>
    </div>

    <section id="prossima-partita">
        <h2 class="section-title">Prossima Gara</h2>
        <div id="next-match-container">
            <p style="text-align: center;">Caricamento prossima partita...</p>
        </div>
    </section>

    <section id="classifica">
        <h2 class="section-title">Classifica Girone A</h2>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Pos</th>
                        <th>Squadra</th>
                        <th>G</th>
                        <th>V</th>
                        <th>P</th>
                        <th>S</th>
                        <th>Punti</th>
                    </tr>
                </thead>
                <tbody id="classifica-body"></tbody>
            </table>
        </div>
    </section>

    <section id="calendario">
        <h2 class="section-title">Ultime Partite</h2>
        <div class="calendar-grid" id="calendario-grid"></div>
    </section>

    <footer>
        <p>Â© 2026 AS Nemorense | Lega Calcio a 8</p>
        <div id="update-time"></div>
    </footer>

    <script>
        async function caricaDati() {
            try {
                const response = await fetch('dati-nemorense.json?v=' + Date.now());
                const dati = await response.json();

                // 1. Prossima Partita
                const nextContainer = document.getElementById('next-match-container');
                if (dati.prossima_partita) {
                    nextContainer.innerHTML = `
                        <div class="next-match">
                            <div>${dati.prossima_partita.data}</div>
                            <div class="match-teams">
                                <span>${dati.prossima_partita.casa}</span>
                                <span style="color: gold;">VS</span>
                                <span>${dati.prossima_partita.trasferta}</span>
                            </div>
                            <div style="opacity: 0.8;">Campionato Serie A2 - Girone A</div>
                        </div>
                    `;
                } else {
                    nextContainer.innerHTML = "<p style='text-align:center;'>Nessuna partita ufficiale in programma al momento.</p>";
                }

                // 2. Classifica
                const classificaBody = document.getElementById('classifica-body');
                classificaBody.innerHTML = '';
                dati.classifica.forEach(s => {
                    const isNemorense = s.nome.toLowerCase().includes('nemorense');
                    classificaBody.innerHTML += `
                        <tr class="${isNemorense ? 'highlight' : ''}">
                            <td>${s.posizione}</td>
                            <td>${s.nome}</td>
                            <td>${s.giocate}</td>
                            <td>${s.vinte}</td>
                            <td>${s.pareggiate}</td>
                            <td>${s.sconfitte}</td>
                            <td>${s.punti}</td>
                        </tr>
                    `;
                });

                // 3. Calendario
                const calGrid = document.getElementById('calendario-grid');
                calGrid.innerHTML = '';
                dati.calendario.forEach(p => {
                    let resClass = '';
                    if (p.risultato !== '-') {
                        const score = p.risultato.split('-').map(Number);
                        const isHome = p.casa.toLowerCase().includes('nemorense');
                        if (score.length === 2 && !isNaN(score[0])) {
                            if ((isHome && score[0] > score[1]) || (!isHome && score[1] > score[0])) resClass = 'win';
                            else if (score[0] === score[1]) resClass = '';
                            else resClass = 'loss';
                        }
                    }
                    calGrid.innerHTML += `
                        <div class="match-card">
                            <div>
                                <small>${p.data}</small>
                                <div>${p.casa} - ${p.trasferta}</div>
                            </div>
                            <div class="${resClass}">${p.risultato}</div>
                        </div>
                    `;
                });

                // 4. Data ultimo aggiornamento
                const date = new Date(dati.ultimo_aggiornamento);
                document.getElementById('update-time').innerHTML = `<small>Dati aggiornati al: ${date.toLocaleString('it-IT')}</small>`;

            } catch (e) {
                console.error("Errore nel caricamento dei dati:", e);
                document.getElementById('next-match-container').innerHTML = "<p style='text-align:center;'>Impossibile caricare i dati aggiornati.</p>";
            }
        }
        document.addEventListener('DOMContentLoaded', caricaDati);
    </script>
</body>
</html>
